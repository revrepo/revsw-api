// Generated by CoffeeScript 1.9.1
(function() {
  var Forwarded;

  Forwarded = require('forwarded');

  exports.register = function(server, options, next) {
    server.ext('onRequest', function(request, reply) {
      var address;
      address = Forwarded(request.raw.req).pop();
      if (address.trim() !== '') {
        request.info.remoteAddress = address;
      }
      return reply["continue"]();
    });
    return next();
  };

  exports.register.attributes = {
    pkg: require('../package.json')
  };

}).call(this);
